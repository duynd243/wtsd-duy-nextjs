import { GetPostQuery } from "@/__generated__/graphql";
import { getAuthorName } from "@/utils";
import Image from "next/image";
import React from "react";

type Props = GetPostQuery["post"];

const BlogHero = (props: Props) => {
  const authorName = getAuthorName({
    firstName: props?.author?.node?.firstName,
    lastName: props?.author?.node?.lastName,
    name: props?.author?.node?.name,
  });
  return (
    <section className='relative'>
      {props?.featuredImage?.node?.sourceUrl ? (
        <Image
          src={props?.featuredImage?.node?.sourceUrl}
          alt='hero'
          fill
          priority
          className='-z-10 object-cover object-center brightness-75'
        />
      ) : (
        <div className='absolute inset-0 -z-10 bg-silver-sand'></div>
      )}
      <div className='baseContainer pb-[347px] pt-[280px]'>
        <div className='text-center text-breadcrumb-heading text-white'>
          {props?.title}
        </div>
        <div className='mt-[13px] flex flex-col items-center justify-center gap-x-[66px] md:flex-row'>
          <div className='blogHeroMetadata'>
            <svg
              xmlns='http://www.w3.org/2000/svg'
              width='21'
              height='21'
              viewBox='0 0 21 21'
              fill='none'
            >
              <path
                d='M1.75 21C1.75 21 0 21 0 19.25C0 17.5 1.75 12.25 10.5 12.25C19.25 12.25 21 17.5 21 19.25C21 21 19.25 21 19.25 21H1.75ZM10.5 10.5C11.8924 10.5 13.2277 9.94688 14.2123 8.96231C15.1969 7.97774 15.75 6.64239 15.75 5.25C15.75 3.85761 15.1969 2.52226 14.2123 1.53769C13.2277 0.553124 11.8924 0 10.5 0C9.10761 0 7.77226 0.553124 6.78769 1.53769C5.80312 2.52226 5.25 3.85761 5.25 5.25C5.25 6.64239 5.80312 7.97774 6.78769 8.96231C7.77226 9.94688 9.10761 10.5 10.5 10.5Z'
                fill='#F8F8F8'
              />
            </svg>
            <span>{authorName}</span>
          </div>
          <div className='blogHeroMetadata'>
            <svg
              xmlns='http://www.w3.org/2000/svg'
              width='24'
              height='24'
              viewBox='0 0 24 24'
              fill='none'
            >
              <path
                d='M22 2.2505H18.75V0.7505C18.7501 0.551588 18.6712 0.36077 18.5307 0.220024C18.3901 0.0792776 18.1994 0.000132786 18.0005 1.78083e-07C17.8016 -0.00013243 17.6108 0.078758 17.47 0.219317C17.3293 0.359875 17.2501 0.550588 17.25 0.7495V2.2505H12.75V0.7505C12.7501 0.652009 12.7307 0.554469 12.6931 0.46345C12.6555 0.37243 12.6003 0.289714 12.5307 0.220024C12.4611 0.150333 12.3784 0.0950335 12.2875 0.0572819C12.1965 0.0195302 12.099 6.58278e-05 12.0005 1.66907e-07C11.8016 -0.000132441 11.6108 0.078758 11.47 0.219317C11.3293 0.359875 11.2501 0.550588 11.25 0.7495V2.2505H6.75V0.7505C6.75007 0.652009 6.73073 0.554469 6.6931 0.46345C6.65547 0.37243 6.60028 0.289714 6.53068 0.220024C6.46109 0.150333 6.37844 0.0950335 6.28747 0.0572819C6.19651 0.0195302 6.09899 6.58278e-05 6.0005 1.66907e-07C5.80159 -0.000132441 5.61077 0.078758 5.47002 0.219317C5.32928 0.359875 5.25013 0.550588 5.25 0.7495V2.2505H2C1.46974 2.2505 0.961184 2.46108 0.58614 2.83593C0.211096 3.21079 0.00026513 3.71924 0 4.2495V21.9995C0 22.5299 0.210714 23.0386 0.585786 23.4137C0.960859 23.7888 1.46957 23.9995 2 23.9995H22C22.5304 23.9995 23.0391 23.7888 23.4142 23.4137C23.7893 23.0386 24 22.5299 24 21.9995V4.2495C23.9997 3.71924 23.7889 3.21079 23.4139 2.83593C23.0388 2.46108 22.5303 2.2505 22 2.2505ZM22.5 22.0005C22.5 22.1329 22.4475 22.26 22.3539 22.3537C22.2604 22.4474 22.1334 22.5002 22.001 22.5005H2C1.86739 22.5005 1.74021 22.4478 1.64645 22.3541C1.55268 22.2603 1.5 22.1331 1.5 22.0005V4.2505C1.50026 4.11807 1.55306 3.99115 1.6468 3.89759C1.74054 3.80404 1.86756 3.7515 2 3.7515H5.25V5.2515C5.24987 5.45041 5.32876 5.64123 5.46932 5.78198C5.60988 5.92272 5.80059 6.00187 5.9995 6.002C6.19841 6.00213 6.38923 5.92324 6.52998 5.78268C6.67072 5.64213 6.74987 5.45141 6.75 5.2525V3.7515H11.25V5.2515C11.2499 5.45041 11.3288 5.64123 11.4693 5.78198C11.6099 5.92272 11.8006 6.00187 11.9995 6.002C12.1984 6.00213 12.3892 5.92324 12.53 5.78268C12.6707 5.64213 12.7499 5.45141 12.75 5.2525V3.7515H17.25V5.2515C17.2499 5.45041 17.3288 5.64123 17.4693 5.78198C17.6099 5.92272 17.8006 6.00187 17.9995 6.002C18.1984 6.00213 18.3892 5.92324 18.53 5.78268C18.6707 5.64213 18.7499 5.45141 18.75 5.2525V3.7515H22C22.1323 3.75176 22.259 3.80442 22.3526 3.89795C22.4461 3.99147 22.4987 4.11824 22.499 4.2505L22.5 22.0005Z'
                fill='#F8F8F8'
              />
              <path
                d='M5.25 9.00049H8.25V11.2505H5.25V9.00049Z'
                fill='#F8F8F8'
              />
              <path
                d='M5.25 12.7505H8.25V15.0005H5.25V12.7505Z'
                fill='#F8F8F8'
              />
              <path
                d='M5.25 16.5005H8.25V18.7505H5.25V16.5005Z'
                fill='#F8F8F8'
              />
              <path
                d='M10.5 16.5005H13.5V18.7505H10.5V16.5005Z'
                fill='#F8F8F8'
              />
              <path
                d='M10.5 12.7505H13.5V15.0005H10.5V12.7505Z'
                fill='#F8F8F8'
              />
              <path
                d='M10.5 9.00049H13.5V11.2505H10.5V9.00049Z'
                fill='#F8F8F8'
              />
              <path
                d='M15.75 16.5005H18.75V18.7505H15.75V16.5005Z'
                fill='#F8F8F8'
              />
              <path
                d='M15.75 12.7505H18.75V15.0005H15.75V12.7505Z'
                fill='#F8F8F8'
              />
              <path
                d='M15.75 9.00049H18.75V11.2505H15.75V9.00049Z'
                fill='#F8F8F8'
              />
            </svg>
            <span>
              {new Date(props?.date).toLocaleDateString("en-US", {
                year: "numeric",
                month: "long",
                day: "numeric",
              })}
            </span>
          </div>
          <div className='blogHeroMetadata'>
            <svg
              xmlns='http://www.w3.org/2000/svg'
              width='29'
              height='23'
              viewBox='0 0 29 23'
              fill='none'
            >
              <path
                d='M27.8438 9.30859H24.3633V5.64766C24.3633 5.07725 23.9024 4.61641 23.332 4.61641H13.1807L9.40049 1.00059C9.35239 0.955558 9.28913 0.930252 9.22324 0.929688H1.03125C0.46084 0.929688 0 1.39053 0 1.96094V21.0391C0 21.6095 0.46084 22.0703 1.03125 22.0703H23.5254C23.9443 22.0703 24.3246 21.8157 24.4825 21.4258L28.8009 10.7266C28.8492 10.6041 28.875 10.472 28.875 10.3398C28.875 9.76943 28.4142 9.30859 27.8438 9.30859ZM2.32031 3.25H8.39502L12.2493 6.93672H22.043V9.30859H5.60742C5.18848 9.30859 4.8082 9.56318 4.65029 9.95312L2.32031 15.7281V3.25ZM22.7938 19.75H3.06152L6.39053 11.5H26.1261L22.7938 19.75Z'
                fill='#F8F8F8'
              />
            </svg>
            <span>
              {props?.categories?.nodes
                ?.map((category) => category?.name)
                .join(", ")}
            </span>
          </div>
        </div>
      </div>
    </section>
  );
};

export default BlogHero;
